# React学習ロードマップ - AIを活用した調子記録アプリ開発

## プロジェクト概要

### アプリケーション名
Mood Tracker（調子記録アプリ）

### 主な機能
- ユーザーが入力時点の調子を記録（体調、気分、やったこと）
- AIによる質問生成と10段階評価による自己分析
- 過去データの集計と傾向分析
- 気象データとの相関分析
- ダッシュボードでのデータ可視化
- パーソナライズされたアドバイス表示

### 技術スタック
- **フロントエンド**: React 18 + TypeScript + Vite
- **バックエンド**: Node.js + Express + TypeScript
- **データベース**: PostgreSQL
- **AI**: Google Gemini API
- **気象データ**: WeatherAPI
- **その他**: Axios（HTTP通信）、Chart.js（グラフ描画）

---

## Phase 1: 環境構築と基礎知識 ✅ **完了**（3/3ステップ、約135分）

### ステップ1-1: 開発環境構築 ✅ **完了**（45分）
- ✅ Node.jsとnpmのインストールと理解
- ✅ PostgreSQLのインストールと基本操作
- ✅ VSCodeの拡張機能設定
- ✅ Reactプロジェクトの作成（Vite使用）

**学習内容**
- Node.jsとnpmの役割
- パッケージマネージャーの概念
- PostgreSQLの基本操作（psql）
- Viteの特徴と利点

**完了日**: 2025年11月上旬

### ステップ1-2: React基礎 ✅ **完了**（45分）
- ✅ Reactの基本概念（コンポーネント、JSX、props、state）
- ✅ TypeScriptとReactの組み合わせ
- ✅ 関数コンポーネントとフック（useState, useEffect）
- ✅ 簡単なカウンターアプリの作成

**学習内容**
- コンポーネント指向の理解
- 宣言的UIの概念
- 状態管理（State）の基礎
- プロパティ（Props）の受け渡し
- ライフサイクルとuseEffect
- TypeScriptによる型安全性

**完了日**: 2025年11月上旬

### ステップ1-3: Node.js + Express基礎 ✅ **完了**（45分）
- ✅ Node.jsとExpressの基本概念
- ✅ TypeScriptでのバックエンド構築
- ✅ RESTful APIの設計思想
- ✅ PostgreSQLへの接続と基本的なクエリ実行

**学習内容**
- Expressフレームワークの基礎
- ミドルウェアの概念
- REST APIとHTTPメソッド
- CRUD操作の実装
- PostgreSQL接続プール
- 環境変数の管理
- エラーハンドリング

**完了日**: 2025年11月上旬

---

## Phase 2: 基本機能実装 ✅ **完了**（4/4ステップ、約180分）

### ステップ2-1: データベース設計 ✅ **完了**（45分）
- ✅ 調子記録アプリのテーブル設計
- ✅ 分析観点の検討と定義
- ✅ マイグレーションの概念と実装
- ✅ サンプルデータの投入

**学習内容**
- リレーショナルデータベースの設計原則
- 正規化の概念
- 外部キー制約
- インデックスの活用
- マイグレーション管理

**作成したテーブル**
- ✅ users（ユーザー情報）
- ✅ records（記録データ）
- ✅ analysis_categories（分析観点）
- ✅ analysis_questions（質問マスタ）
- ✅ analysis_answers（回答データ）
- ✅ weather_data（気象データ）
- ✅ advice_history（アドバイス履歴）

**完了日**: 2025年11月7日

### ステップ2-2: バックエンドAPI実装 ✅ **完了**（90分）
- ✅ ユーザー認証API（JWT認証）
- ✅ 記録データのCRUD API
- ✅ エラーハンドリングとバリデーション
- ✅ APIのテスト
- ✅ 統計情報取得API
- ✅ グラフデータ取得API（時間単位集約、平均値計算）

**学習内容**
- ルーティングの設計
- コントローラーとモデルの分離
- バリデーションライブラリの使用
- JWTによる認証
- APIドキュメントの作成

**実装したエンドポイント**
- ✅ POST /api/auth/register - ユーザー登録
- ✅ POST /api/auth/login - ログイン
- ✅ GET /api/auth/me - 現在のユーザー情報取得
- ✅ GET /api/records - 記録一覧取得
- ✅ GET /api/records/:id - 特定の記録取得
- ✅ POST /api/records - 記録作成
- ✅ PUT /api/records/:id - 記録更新
- ✅ DELETE /api/records/:id - 記録削除
- ✅ GET /api/records/stats - 統計情報取得
- ✅ GET /api/records/chart - グラフデータ取得
- ✅ GET /api/weather/current - 現在の気象データ取得
- ✅ GET /api/weather/record/:recordId - 記録に紐づく気象データ取得

**完了日**: 2025年11月13日

### ステップ2-3: フロントエンドとバックエンドの連携 ✅ **完了**（45分）
- ✅ Axiosを使ったHTTP通信
- ✅ 環境変数の管理
- ✅ CORS設定
- ✅ データの取得と表示
- ✅ 認証トークンの管理
- ✅ インターセプターの実装

**学習内容**
- Axiosインスタンスの作成
- インターセプターの活用
- エラーハンドリング
- ローディング状態の管理
- 環境ごとの設定切り替え

**完了日**: 2025年11月13日

---

## Phase 3: 主要機能実装 🟡 **進行中**（4.5/5ステップ、約225分）

### ステップ3-1: 記録入力画面の実装 ✅ **完了**（45分）
- ✅ フォームの作成（体調、気分、やったこと）
- ✅ バリデーションとエラー表示
- ✅ データの送信と保存
- ✅ スライダーによる10段階評価入力
- ✅ 気象情報カードの表示

**学習内容**
- React Hook Formの使用
- フォームバリデーション
- カスタムフックの作成
- エラーメッセージの表示

**実装したコンポーネント**
- RecordForm.tsx
- RecordForm.css

**完了日**: 2025年11月13日

### ステップ3-2: 自己分析機能（質問と評価）🟡 **部分完了**（45分）
- ✅ バックエンドAPI実装（質問取得、回答保存）
- 🟡 質問表示コンポーネントの作成（要確認）
- 🟡 10段階評価の入力UI（要確認）
- 🟡 評価データの保存機能（要確認）

**学習内容**
- 動的なフォーム生成
- スライダーコンポーネントの実装
- 複数ステップフォームの管理
- データの一時保存

**実装状況**
- バックエンド：完全実装
  - GET /api/analysis/categories
  - GET /api/analysis/questions
  - POST /api/analysis/answers
- フロントエンド：部分実装（AnalysisFormコンポーネント存在確認が必要）

**次のアクション**: フロントエンドの自己分析画面完成

### ステップ3-3: ダッシュボード基礎 ✅ **完了**（45分）
- ✅ レイアウト設計（Layout, Sidebar実装）
- ✅ 複数パネルの配置（統計パネル、グラフ、最近の記録）
- ✅ レスポンシブデザインの実装

**学習内容**
- CSS Grid/Flexboxの活用
- レスポンシブブレークポイント
- コンテナコンポーネントの設計
- カードレイアウトの実装

**実装したコンポーネント**
- Dashboard.tsx
- Dashboard.css
- Layout.tsx
- Sidebar.tsx

**完了日**: 2025年11月13日

### ステップ3-4: データ可視化 ✅ **完了**（45分）
- ✅ Chart.jsの導入とCategoryScale設定
- ✅ 過去データのグラフ表示（気分・モチベーション、気温・湿度）
- ✅ 時間単位でのデータ集約と平均値計算
- ✅ 日付範囲の選択機能（直近1週間 or 最大10件）
- ✅ マウスホバー動作の改善（intersect: false）
- ✅ 気温軸の動的範囲調整機能

**学習内容**
- Chart.jsの基本設定
- 折れ線グラフ、複合グラフの作成
- データの加工と整形（時間単位集約）
- インタラクティブなグラフ
- CategoryScaleの必要性
- 動的な軸範囲計算

**実装したコンポーネント**
- MoodChart.tsx（気分・モチベーション）
- WeatherChart.tsx（気温・湿度、動的範囲調整機能付き）

**完了日**: 2025年11月14日

### ステップ3-5: 気象データ連携 ✅ **完了**（45分）
- ✅ WeatherAPIの使用方法
- ✅ 気象データの取得と保存（記録作成時に自動）
- ✅ 気象データとユーザーデータの関連付け
- ✅ 記録詳細画面での気象データ表示
- ✅ グラフでの気象データ可視化

**学習内容**
- 外部APIの呼び出し
- APIキーの管理
- データのキャッシング
- 非同期処理
- 気象データの可視化

**実装した機能**
- weatherService.ts（getCurrentWeather, getWeatherByCoordinates, getWeatherByRecordId）
- WeatherDataModel.ts（create, getByRecordId）
- weatherController.ts（getCurrentWeatherData, getWeatherByRecordId）
- 記録作成時の自動気象データ取得
- RecordDetailでの気象情報カード表示

**完了日**: 2025年11月13日（記録詳細での表示）、2025年11月14日（グラフ表示改善）

---

## Phase 4: AI機能統合 ❌ **未着手**（0/4ステップ、約180分）

### ステップ4-1: Gemini API基礎 ❌ **未実装**（45分）
- ❌ Gemini APIの登録と設定
- ❌ プロンプト設計の基礎
- ❌ バックエンドからのAPI呼び出し

**学習内容**
- LLM APIの基本概念
- プロンプトエンジニアリングの基礎
- レスポンスのパース
- レート制限への対処
- エラーハンドリング

### ステップ4-2: AI質問生成機能 ❌ **未実装**（45分）
- ❌ 分析観点に基づく質問生成
- ❌ データ不足を補う質問の生成ロジック
- ❌ 生成された質問の管理

**学習内容**
- コンテキストを含むプロンプト設計
- 構造化されたレスポンスの取得
- 質問の重複チェック
- 質問の保存と再利用

### ステップ4-3: データ分析機能 ❌ **未実装**（45分）
- ❌ 蓄積データの集計処理
- ❌ AIによる傾向分析
- ❌ 相関関係の抽出

**学習内容**
- SQLによるデータ集計
- 統計的な分析手法の基礎
- AIを活用した洞察の抽出
- 結果の構造化と保存

### ステップ4-4: アドバイス生成機能 ❌ **未実装**（45分）
- ❌ 現在の状態に基づくアドバイス生成
- ❌ 気象データを考慮したアドバイス
- ❌ ダッシュボードへの表示

**学習内容**
- パーソナライズされたプロンプト設計
- 複数データソースの統合
- アドバイスの表示UI
- 更新頻度の管理

---

## Phase 5: テストとCI/CD ❌ **未着手**（0/3ステップ、約135分）

### ステップ5-1: ユニットテスト ❌ **未実装**（45分）
- ❌ Jest（React）とMocha（Node.js）の導入
- ❌ コンポーネントのテスト
- ❌ APIのテスト

**学習内容**
- テスト駆動開発（TDD）の概念
- React Testing Libraryの使用
- モックの作成
- カバレッジの確認

### ステップ5-2: 統合テスト ❌ **未実装**（45分）
- ❌ E2Eテストの概念
- ❌ Playwrightの導入と基本
- ❌ 主要シナリオのテスト

**学習内容**
- E2Eテストの設計
- テストシナリオの作成
- 自動スクリーンショット
- CI環境での実行

### ステップ5-3: CI/CD構築 ❌ **未実装**（45分）
- ❌ GitHub Actionsの基礎
- ❌ 自動テストの設定
- ❌ ビルドとデプロイの自動化

**学習内容**
- CI/CDの概念と利点
- ワークフローファイルの作成
- 環境変数の管理
- デプロイメントパイプライン

---

## Phase 6: デプロイと最適化 ❌ **未着手**（0/2ステップ、約90分）

### ステップ6-1: デプロイ準備 ❌ **未実装**（45分）
- ❌ 本番環境用の設定
- ❌ 環境変数の管理
- ❌ セキュリティ対策

**学習内容**
- 本番環境と開発環境の違い
- 環境変数の安全な管理
- HTTPS設定
- セキュリティヘッダー
- SQLインジェクション対策

### ステップ6-2: デプロイ実施 ❌ **未実装**（45分）
- ❌ Render.com（バックエンド）へのデプロイ
- ❌ Vercel（フロントエンド）へのデプロイ
- ❌ PostgreSQLの本番環境設定
- ❌ 動作確認とトラブルシューティング

**学習内容**
- 無償ホスティングサービスの活用
- ドメイン設定
- データベースマイグレーション
- ログの確認
- パフォーマンスモニタリング

---

## 学習の進め方

### 基本ルール
1. 各ステップは約45分を想定していますが、理解度に応じて柔軟に調整します
2. 必ず「理解できました」と確認してから次のステップに進みます
3. 不明点があれば遠慮なく質問してください
4. 実際にコードを書いて動作確認することを重視します

### 推奨する学習方法
1. **コードを写経する**: まずは提示されたコードを正確に入力しましょう
2. **動作を確認する**: 必ず実行して期待通りに動作することを確認しましょう
3. **改造してみる**: 動作を理解したら、少し変更を加えて実験しましょう
4. **エラーを経験する**: わざと間違えてエラーメッセージを読む練習も有効です

### 質問の例
- 「このコードの〇〇の部分はどういう意味ですか？」
- 「〇〇の場合はどのように実装すればよいですか？」
- 「エラーが出ましたが、どうすれば解決できますか？」
- 「もっと良い書き方はありますか？」

---

## 総学習時間と進捗管理

**総学習時間**: 約945分（約15.75時間）  
**総ステップ数**: 21ステップ

### 進捗状況
- ✅ **Phase 1 完了**（3/3ステップ） - 2025年11月上旬
- ✅ **Phase 2 完了**（4/4ステップ） - 2025年11月7日～13日
- 🟡 **Phase 3 進行中**（4.5/5ステップ） - 2025年11月13日～14日
  - 自己分析機能のフロントエンド実装が残っている
- ❌ Phase 4（0/4ステップ）
- ❌ Phase 5（0/3ステップ）
- ❌ Phase 6（0/2ステップ）

**現在の進捗率**: 11.5/21ステップ = **約55%完了**

**次のマイルストーン**: Phase 3完了（自己分析機能フロントエンド実装）→ Phase 4開始（AI機能統合）

---

## 実装済みの追加機能

ロードマップ以外に実装された機能：

### 記録詳細画面
- RecordDetail.tsx / RecordDetail.css
- 記録の全データ表示
- スコアのバー形式表示
- 気象情報カードの表示
- 一覧へ戻る機能

### 記録一覧画面
- RecordList.tsx / RecordList.css
- カード形式での記録一覧表示
- 詳細画面への遷移

### グラフ表示の高度な機能
- 時間単位でのデータ集約（DATE_TRUNC関数）
- 平均値の自動計算
- 横軸ラベルの形式統一（MM/DD HH:00）
- マウスホバー動作の改善（mode: 'index', intersect: false）
- 気温軸の動的範囲調整機能
  - デフォルト：0度～40度
  - 0度を下回る場合：10の倍数に切り下げ
  - 40度を上回る場合：10の倍数に切り上げ
  - 範囲に応じた間隔の自動調整（2度/5度/10度）

---

## 習得できるスキル

このロードマップを完了すると、以下のスキルが習得できます。

### フロントエンド ✅ 習得済み（基礎～応用）
- ✅ React 18の基本から応用まで
- ✅ TypeScriptによる型安全な開発
- ✅ コンポーネント設計とState管理
- ✅ フック（useState, useEffect, カスタムフック）の活用
- ✅ フォーム処理とバリデーション
- ✅ データ可視化（Chart.js、時間単位集約、動的範囲調整）
- ✅ レスポンシブデザイン

### バックエンド ✅ 習得済み（基礎～応用）
- ✅ Node.js + Expressによるサーバー構築
- ✅ RESTful API設計と実装
- ✅ PostgreSQLによるデータベース操作
- ✅ 環境変数とセキュリティ
- ✅ エラーハンドリング
- ✅ 外部API連携（WeatherAPI）

### AI統合 ❌ 未習得
- ❌ LLM API（Gemini）の活用
- ❌ プロンプトエンジニアリング
- ❌ AIを活用したデータ分析
- ❌ パーソナライズ機能の実装

### テストとCI/CD ❌ 未習得
- ❌ ユニットテストの作成
- ❌ E2Eテストの設計と実装
- ❌ GitHub Actionsによる自動化
- ❌ 継続的インテグレーション/デプロイメント

### デプロイ ❌ 未習得
- ❌ 無償ホスティングサービスの活用
- ❌ 本番環境の設定
- ❌ トラブルシューティング

---

## 参考資料

### 公式ドキュメント
- React: https://react.dev/
- TypeScript: https://www.typescriptlang.org/
- Node.js: https://nodejs.org/
- Express: https://expressjs.com/
- PostgreSQL: https://www.postgresql.org/
- Vite: https://vitejs.dev/
- Chart.js: https://www.chartjs.org/

### その他のリソース
- MDN Web Docs: https://developer.mozilla.org/
- GitHub: https://github.com/
- Stack Overflow: https://stackoverflow.com/

---

## 注意事項

### 無償で行う制約
- すべてのツールとサービスは無料枠で利用します
- 有料サービスは使用しません
- オープンソースのライブラリを優先します

### セキュリティ
- パスワードや APIキーは`.env`ファイルで管理します
- `.gitignore`に機密情報を含むファイルを追加します
- 本番環境では環境変数をホスティングサービスで管理します

### バージョン管理
- Gitによるバージョン管理を推奨します
- こまめにコミットする習慣をつけましょう
- ブランチを活用して機能開発を分離しましょう

---

**最終更新日**: 2025年11月14日  
**更新内容**: Phase 3までの詳細な進捗状況を反映、実装済み機能の追記
